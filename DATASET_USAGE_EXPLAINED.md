# AUTO-GENERATED BY KIRO
# How to Use Datasets WITHOUT Python Requirements

## ğŸ¯ The Key Insight

We use the **data structures and mappings** from the datasets, NOT their Python code. This means:
- âœ… No Python installation needed
- âœ… No `pip install` required
- âœ… No PyTorch, COCO API, or other dependencies
- âœ… Just read JSON files and use the mappings!

## ğŸ“Š What We Extract from Datasets

### FashionPedia Dataset

**File Used:** `datasets/fashionpedia-api-master/data/sample.json`

**What We Get:**
```json
{
  "categories": [
    { "id": 0, "name": "shirt, blouse", "supercategory": "upperbody" },
    { "id": 10, "name": "dress", "supercategory": "wholebody" },
    // ... 27 categories total
  ],
  "attributes": [
    { "id": 304, "name": "floral", "supercategory": "textile pattern" },
    { "id": 306, "name": "paisley", "supercategory": "textile pattern" },
    { "id": 261, "name": "satin", "supercategory": "woven" },
    // ... 294 attributes total
  ]
}
```

**How We Use It:**
```typescript
// server/models/fashionpedia-integration.ts
// Reads the JSON file directly - pure TypeScript!
const data = JSON.parse(fs.readFileSync("datasets/.../sample.json"));

// Map our category to FashionPedia ID
"lehenga" â†’ category ID 10 (dress)

// Get attributes for patterns
"paisley" â†’ attribute ID 306
"silk" â†’ attribute ID 261
```

### Dress Code Dataset

**File Used:** `datasets/dress-code-main/data/labelmap.py` (structure only)

**What We Get:**
```python
# From labelmap.py - we just use the mappings!
label_map = {
    "background": 0,
    "upper_clothes": 4,  # â† Top/blouse region
    "skirt": 5,         # â† Skirt region
    "pants": 6,         # â† Pants region
    "dress": 7,         # â† Full dress region
    // ... 18 labels total
}
```

**How We Use It:**
```typescript
// server/models/dresscode-integration.ts
// Uses the label mappings directly - no Python!
const DRESS_CODE_LABELS = {
  4: "upper_clothes",  // Top region
  5: "skirt",          // Bottom region
  7: "dress",          // Full region
  // ...
};

// Map category to labels
"lehenga" â†’ [4, 5]  // upper_clothes + skirt
"blouse" â†’ [4]      // upper_clothes
"dress" â†’ [7]       // dress
```

## ğŸ”§ Implementation Files

### 1. `server/models/fashionpedia-integration.ts`
- Reads `datasets/fashionpedia-api-master/data/sample.json`
- Extracts categories and attributes
- Maps our categories to FashionPedia IDs
- **No Python needed!**

### 2. `server/models/dresscode-integration.ts`
- Uses Dress Code label mappings (from `labelmap.py` structure)
- Maps categories to label IDs
- Extracts garment regions
- **No Python needed!**

### 3. Enhanced Integration
- `server/models/fashionpedia.ts` - Uses the integration module
- `server/models/dresscode.ts` - Uses the integration module
- `server/fusionPipeline.ts` - Uses both for better analysis

## ğŸ’¡ How It Works in Practice

### Example: Analyzing a Lehenga

```typescript
// 1. User selects "lehenga" category
const category = "lehenga";

// 2. System uses FashionPedia structure (no Python!)
const fashionPediaId = mapToFashionPediaCategory(category);
// Returns: 10 (dress category in FashionPedia)

// 3. System uses Dress Code structure (no Python!)
const labelIds = getDressCodeLabelsForCategory(category);
// Returns: [4, 5] (upper_clothes + skirt)

// 4. System knows:
// - Top fabric goes to label 4 (upper_clothes)
// - Bottom fabric goes to label 5 (skirt)
// - Can use FashionPedia attributes for patterns/materials

// 5. For actual segmentation, use SAM via HuggingFace API
// (No local Python model needed!)
```

## ğŸš€ What You Get

### âœ… Without Python:
- Category mappings (FashionPedia)
- Attribute mappings (FashionPedia)
- Label mappings (Dress Code)
- Region mappings (Dress Code)
- Pattern/material detection (using mappings)
- Complete data structure understanding

### ğŸ”Œ For Actual ML (Optional):
- Use HuggingFace API (already integrated)
- Use Bytez API (already integrated)
- Use Replicate API (already integrated)
- **No local Python needed!**

## ğŸ“ Code Example

```typescript
// In fusionPipeline.ts

// Uses FashionPedia dataset structure (reads JSON)
const analysis = await analyzeWithFashionPedia(fabricUrl, "lehenga");
// Returns: {
//   category: "lehenga",
//   attributes: {
//     patterns: ["paisley", "floral"],  // From FashionPedia mappings
//     materials: ["satin", "chiffon"]   // From FashionPedia mappings
//   }
// }

// Uses Dress Code dataset structure (uses label mappings)
const regions = await extractGarmentRegions(mannequinUrl, "lehenga");
// Returns: {
//   topMask: "...",    // Label 4 (upper_clothes)
//   bottomMask: "...", // Label 5 (skirt)
//   labelIds: [4, 5]
// }
```

## ğŸ¯ Summary

**You DON'T need:**
- âŒ Python installation
- âŒ `pip install fashionpedia`
- âŒ `pip install torch`
- âŒ COCO API
- âŒ Running their Python scripts

**You DO get:**
- âœ… All category mappings from FashionPedia
- âœ… All attribute mappings (294 attributes)
- âœ… All label mappings from Dress Code (18 labels)
- âœ… Complete integration in TypeScript
- âœ… Works immediately, no setup needed!

**For actual ML inference:**
- Use APIs (HuggingFace/Bytez/Replicate) - already integrated!
- Or use pre-trained models via API
- No local Python installation needed!

The datasets are used as **reference data structures** that we read directly in TypeScript. This is much simpler than running Python code! ğŸ‰

