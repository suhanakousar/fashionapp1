# AUTO-GENERATED BY KIRO
# Using Datasets WITHOUT Installing Python Requirements

## ğŸ¯ Overview

The FashionPedia and Dress Code datasets are integrated into the system **WITHOUT requiring Python or their dependencies**. We use their **data structures and mappings** directly in TypeScript.

## âœ… How It Works

### 1. FashionPedia Dataset

**What we use:**
- âœ… JSON structure (`data/sample.json`) - Category and attribute mappings
- âœ… Category IDs and names (27 categories)
- âœ… Attribute IDs and names (294 attributes)
- âœ… Pattern/material mappings

**What we DON'T need:**
- âŒ Python installation
- âŒ `pip install fashionpedia`
- âŒ COCO API
- âŒ Running their Python scripts

**How we use it:**
```typescript
// server/models/fashionpedia-integration.ts
// Reads the JSON file directly - no Python!
const data = JSON.parse(fs.readFileSync("datasets/fashionpedia-api-master/data/sample.json"));

// Map our categories to FashionPedia IDs
mapToFashionPediaCategory("lehenga") // Returns 10 (dress category)

// Get attributes for patterns
getFashionPediaAttributes("paisley", "silk") // Returns [306, 261]
```

### 2. Dress Code Dataset

**What we use:**
- âœ… Label mappings (`data/labelmap.py` structure) - 18 human parsing classes
- âœ… Category to label mapping (lehenga â†’ [4, 5] = upper_clothes + skirt)
- âœ… Region extraction logic

**What we DON'T need:**
- âŒ Python installation
- âŒ PyTorch
- âŒ SCHP model files
- âŒ OpenPose
- âŒ Running their training code

**How we use it:**
```typescript
// server/models/dresscode-integration.ts
// Uses the label mappings directly - no Python!
const labels = getDressCodeLabelsForCategory("lehenga"); // Returns [4, 5]

// Map to regions
mapDressCodeToRegions("lehenga") // Returns { top: 4, bottom: 5 }
```

## ğŸ“ Dataset Files Used

### FashionPedia
- `datasets/fashionpedia-api-master/data/sample.json`
  - Categories: 27 main categories
  - Attributes: 294 fine-grained attributes
  - Used for: Category mapping, pattern/material detection

### Dress Code
- `datasets/dress-code-main/data/labelmap.py` (structure only)
  - 18 human parsing labels
  - Used for: Garment region mapping (top/bottom/full)

## ğŸ”§ Integration Files

1. **`server/models/fashionpedia-integration.ts`**
   - Reads FashionPedia JSON structure
   - Maps categories and attributes
   - No Python required!

2. **`server/models/dresscode-integration.ts`**
   - Uses Dress Code label mappings
   - Maps categories to regions
   - No Python required!

3. **`server/models/fashionpedia.ts`** (enhanced)
   - Uses the integration module
   - Provides analyzeWithFashionPedia()

4. **`server/models/dresscode.ts`** (enhanced)
   - Uses the integration module
   - Provides extractGarmentRegions()

## ğŸš€ Usage in Pipeline

The pipeline uses these integrations automatically:

```typescript
// In fusionPipeline.ts

// Uses FashionPedia structure (no Python!)
const analysis = await analyzeWithFashionPedia(fabricUrl, category);
// Returns: { category, attributes: { patterns, materials } }

// Uses Dress Code structure (no Python!)
const regions = await extractGarmentRegions(mannequinUrl, category);
// Returns: { topMask, bottomMask, dressMask }
```

## ğŸ’¡ For Actual Model Inference

When you want to use the actual models (not just structure):

### Option 1: Use APIs (Recommended)
- HuggingFace Inference API (already integrated)
- Bytez API (already integrated)
- Replicate API (already integrated)

### Option 2: Use Pre-trained Models via API
- FashionPedia model on HuggingFace
- Dress Code model on HuggingFace
- No local Python installation needed!

### Option 3: Local Models (If Needed)
Only if you want to run models locally:
```bash
# Then you'd need Python
pip install fashionpedia  # Only if using their Python API
pip install torch  # Only if running models locally
```

## âœ… Current Implementation

**What works NOW (no Python):**
- âœ… Category mapping (FashionPedia structure)
- âœ… Attribute mapping (FashionPedia structure)
- âœ… Label mapping (Dress Code structure)
- âœ… Region mapping (Dress Code structure)
- âœ… Pattern/material detection (using mappings)

**What requires APIs/models:**
- Actual image segmentation (use SAM via HuggingFace)
- Actual attribute detection (use CLIP via HuggingFace)
- Actual human parsing (use SCHP via API)

## ğŸ¯ Summary

**You DON'T need to:**
- Install Python
- Run `pip install` for these datasets
- Install PyTorch, COCO API, etc.
- Run their training scripts

**You DO get:**
- All category mappings
- All attribute mappings
- All label mappings
- Complete data structure understanding
- Integration with your TypeScript code

**For actual ML inference:**
- Use HuggingFace/Bytez/Replicate APIs (already integrated)
- Or use pre-trained models via API
- No local Python installation needed!

The datasets are used as **reference data structures**, not as Python libraries. This makes integration much simpler! ğŸ‰

