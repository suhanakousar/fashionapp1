# AUTO-GENERATED BY KIRO
# Kiro Specification for Frankenstein Fusion Outfit Designer

name: "Frankenstein Fusion Outfit Designer"
version: "1.0.0"
description: "AI-powered fashion design fusion system using HuggingFace image-to-image models"

modules:
  - name: "fusion-pipeline"
    description: "Core image fusion processing pipeline"
    files:
      - "server/fusionPipeline.ts"
      - "server/fusion.ts"
    endpoints:
      - "POST /api/fusion/upload"
      - "POST /api/fusion/create"
      - "GET /api/fusion/status/:jobId"
      - "GET /api/fusion/results/:jobId"
      - "DELETE /api/fusion/image/:imageId"
      - "POST /api/admin/fusion/publish"
    
  - name: "fusion-ui"
    description: "React components for fusion workspace"
    files:
      - "client/src/components/FusionWorkspace.tsx"
      - "client/src/components/MannequinCanvas.tsx"
      - "client/src/components/ExplainabilityPanel.tsx"
      - "client/src/components/LookbookGenerator.tsx"
      - "client/src/components/SocialShareCard.tsx"
      - "client/src/pages/Fusion.tsx"
    
  - name: "hero-landing"
    description: "Landing page hero with before/after gallery"
    files:
      - "client/src/components/Hero.tsx"
      - "client/src/pages/Home.tsx"

events:
  - name: "onUpload"
    description: "Triggered when user uploads images for fusion"
    hook: ".kiro/hooks/onUpload.hook.yaml"
    
  - name: "onFusionComplete"
    description: "Triggered when fusion job completes"
    hook: ".kiro/hooks/onFusionComplete.hook.yaml"

image_processing:
  segmentation:
    provider: "huggingface"
    model: "briaai/RMBG-2.0" # Background removal
    fallback: "local-mock"
  
  fusion:
    provider: "huggingface"
    models:
      - "runwayml/stable-diffusion-inpainting"
      - "stabilityai/stable-diffusion-2-inpainting"
      - "CompVis/stable-diffusion-v1-4"
    fallback: "local-mock"
  
  upscaling:
    provider: "cloudinary"
    transformation: "q_auto:best,dpr_2.0"
  
  face_detection:
    provider: "cloudinary"
    auto_mask: true
    require_consent: true

storage:
  images: "cloudinary"
  metadata: "mongodb"
  jobs: "mongodb"

prompts:
  templates: ".kiro/prompts/fusion_prompt_templates.md"
  steering: ".kiro/steering.md"

