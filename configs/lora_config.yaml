# AUTO-GENERATED BY KIRO
# LoRA Training Configuration

model:
  pretrained_model_name_or_path: "runwayml/stable-diffusion-v1-5"
  # Alternative: "stabilityai/stable-diffusion-xl-base-1.0"
  
lora:
  rank: 16
  alpha: 32
  target_modules: ["to_k", "to_q", "to_v", "to_out.0"]
  # For SDXL, also include: "add_k_proj", "add_v_proj", "add_q_proj", "add_out_proj"

training:
  resolution: 512
  train_batch_size: 1
  gradient_accumulation_steps: 4
  learning_rate: 1.0e-4
  lr_scheduler: "constant"
  lr_warmup_steps: 100
  max_train_steps: 10000
  save_steps: 500
  mixed_precision: "fp16"
  gradient_checkpointing: true
  
dataset:
  # Dataset structure:
  # data/training/{category}/
  #   - sample_001/
  #     - target.jpg
  #     - mannequin.jpg
  #     - fabric_top.jpg
  #     - fabric_bottom.jpg
  #     - metadata.json
  train_data_dir: "./data/training"
  categories: ["lehenga", "blouse", "gown", "saree", "salwar", "dress", "top", "skirt"]
  
output:
  output_dir: "./models/lora"
  save_format: "safetensors"  # or "ckpt"

# Optional: Use SAM for automatic mask generation
segmentation:
  use_sam: true
  sam_model: "facebook/sam-vit-base"
  verify_manually: true  # Human verification for 5-10% of data

